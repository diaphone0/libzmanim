/****
Copyright (c) 2018 Y Paritcher

This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation version 2.1 of the License.

This library is distributed in the hope that it will be useful,but WITHOUT ANY WARRANTY; 
without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
See the GNU Lesser General Public License for more details. 
You should have received a copy of the GNU Lesser General Public License along with this library; 
if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA, 
or connect to: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html
****/

#include <stdio.h>
#include "hebrewcalendar.h"
#include "hdateformat.h"

const char* tehillimarray[] = { "קמ - ק״נ", "א - ט", "י - י״ז", "י״ח - כ״ב", "כ״ג - כ״ח", "כ״ט - ל״ד", "ל״ה - ל״ח", "ל״ט - מ״ג", "מ״ד - מ״ח", "מ״ט - נ״ד", "נ״ה - נ״ט", "ס - ס״ה", "ס״ו - ס״ח", "ס״ט - ע״א", "ע״ב - ע״ו", "ע״ז - ע״ח", "ע״ט - פ״ב", "פ״ג - פ״ז", "פ״ח - פ״ט", "צ - צ״ו", "צ״ז - ק״ג", "ק״ד - ק״ה", "ק״ו - ק״ז", "ק״ח - קי״ב", "קי״ג - קי״ח", "קי״ט אשרי - מצותך מאד", "קי״ט מה - לא שכחתי", "ק״כ - קל״ד", "קל״ה - קל״ט", "ק״מ - קמ״ד", "קמ״ה - ק״נ" };
const char* tanyaarrayregular[][31] = {
{/*ניסן*/
"פרק מג והנה\n־124־ כמ״ש לקמן."
"והנה המשכה והארה זו\n־98־ [פ' כ״ג].",
"פרק לח והנה\n־נ־ כל חי.",
"ואף שבשניהם אור\n־100־ והתפשטות.",
"כי בגוף הגשמי …  ־100־ בו ית'.",
"ולא שדביקות המחשבה\n־נא־ חי ומדבר.",
"כי מי שדעתו יפה\n־102־ כנז״ל.",
"פרק לט ומפני\n־נב־ ויקהל.",
"אך היינו דווקא\n־104־ מצוה עצמה.",
"ועולם האצילות שהוא\n־נג־ לי״ח].",
"והנה שכר מצוה\n־106־ קדם ה'.",
"והיינו אפילו אם\n־106־ לקמן.",
"וכשעוסק שלא לשמה\n־נד־ בזהר.",
"פרק מ אך\n־108־ למטה בעו״הז.",
"ואף דאורייתא וקב״ה\n־נה־ הוא גשמי.",
"אבל בתפלה בכוונה\n־נו־ בפרע״ח).",
"והנה אף דדחילו\n־נו־ באריכות.",
"פרק מא ברם\n־112־ ותפילין.",
"וגם יתבונן איך\n־נז־ ליודעים.",
"והנה אף מי\n־114־ כנ״ל.",
"אך אמנם אמרו\n־נח־ החסדים).",
"ואף שלהיות כוונה\n־נח־ באריכות.",
"אבל יחוד נפשו\n־116־ אתה וכה״ג.",
"והנה בהכנה זו\n־נט־ כנ״ל.",
"פרק מב והנה\n־118־ ידע וגו'.",
"וכח זה ומדה זו\n־ס־ שומעת כו'.",
"וגם כי אין לו\n־120־ כנ״ל פ״כ.",
"והנה כל אדם\n־סא־ לי״ח].",
"ועוד זאת יזכור\n־122־ כמ״ש במ״א.",
"פרק מג והנה\n־סב־ אין חכמה.",
"והנה באהבה יש\n־124־ כמ״ש לקמן."},
{/*אייר*/
"ובהתלבשות מל' דאצילות\n־עד־ שכינה.",
"והנה בחיי אהבה\n־124־ לי״ח].",
"פרק מד והנה\n־סג־ צפרא כו'.",
"ואהבה רבה וגדולה\n־126־ נעשה טבע.",
"ואף אם נדמה\n־126־ מצרפה כו'.",
"והנה ב' בחי' אהבות\n־סד־ אהבת עולם.",
"רק שאעפ״כ צריך\n־סד־ וכנודע.",
"פרק מה עוד\n־128־ טומאתם.",
"וזש״ה וישק יעקב\n־128־ במ״א.",
"פרק מו ויש דרך\n־סה־ המלך.",
"והנה ככל הדברים\n־130־ וגופא וכו'.",
"וז״ש אשר קדשנו\n־סו־ בחייהם.",
"וז״ש אסף ברוח הקדש\n־132־ האצילות].",
"פרק מז והנה ככל\n־סז־ כמש״ל.",
"פרק מח והנה כאשר\n־134־ ויחזרו למקורן.",
"והנה פרטיות הצמצומים\n־סח־ ותכלית.",
"והמשל בזה\n־136־ בפועל ממש.",
"למשל כדור הארץ הלזו\n־136־ במ״א.",
"פרק מט והנה אף\n־סט־ ובנים.",
"ובזה יובן טוב\n־ע־ ית' כנ״ל.",
"והנה כאשר ישים המשכיל\n־ע־ ומאודו כנ״ל.",
"פרק נ והנה כל\n־140־ ח״ו.",
"והנה סדר העבודה\n־עא־ החיים ב״ה.",
"פרק נא והנה לתוספת\n־142־ וחיות הללו.",
"והנה על המשכת\n־142־ כנ״ל].",
"וככה ממש עד״מ\n־144־ א״ס ב״ה.",
"פרק נב וכמו שבנשמת\n־עג־ מהשמש.",
"אבל השכינה עצמה\n־עג־ מצות התורה.",
"ובירידתה בהשתלשלות\n־146־ כמ״ש בתיקונים.",},
{/*סיון*/
"רק מפני שאין\n־פז־ מן השכל."
"פרק נג והנה כשהי'\n־148־ לי״ח].",
"ובבית שני\n־148־ יסד ברתא.",
"וז״ש הינוקא\nית' וית'.",
"ליקוטי אמרים\n־עו־ באריכות.",
"והנה ענין אהבה זו\n־עו־ שית' במקומה.",
"אך הנה ידוע\n־עו־ יתברך וית'.",
"שער היחוד והאמונה\n־152־ ימי בראשית.",
"ואף שלא הוזכר שם\n־עז־ כולא חד.",
"פרק ב והנה מכאן\n־154־ הבריאה.",
"פרק ג והנה אחרי\n־עח־ בלעדו באמת.",
"והמשל לזה הוא\n־156־ להקדים.",
"פרק ד כי הנה\n־עט־ להטיב.",
"והנה כמו שמדה זו\n־158־ מאין ליש.",
"[והנה בחיי הצמצום\n־158־ לי״ח.",
"פרק ה והנה על\n־פ־ פרק ג].",
"פרק ו והנה שם\n־160־ הכלולה בחסד.",
"והנה מהתכללות המדות\n־פא־ השמש בשמש.",
"ולכן הוצרך הכתוב\n־162־ הוא האלקים.",
"פרק ז ובזה יובן\n־פב־ עליו כלל.",
"והנה גדר ובחי'\n־פב־ ולד' סטרין.",
"והנה אף על פי\n־164־ לתחתונים.",
"והנה במ״ש יובן\n־פג־ מהרמ״ק ז״ל].",
"והנה מכאן יש להבין\n־166־ דממלא לון.",
"וזהו ג״כ ענין\n־פד־ גבול ותכלית.",
"כי מקור החיות\n־פה־ עצמן.",
"פרק ח והנה מ״ש \n־170־ ולצייר בשכלם.",
"כי המעלה ומדרגה\n־פו־ ומקור החיות.",
"פרק ט אבל לגבי\n־פו־ אין קץ.",
"רק מפני שאין\n־פז־ ידוע למשכילים.",
"הגה״ה (סוד הצמצום\n־פז־ מן השכל."},
{/*תמוז*/
"ומה שמשבחים ומברכים\n־200־ היא מיד.",
"פרק י אך מכל מקום\n־174־ אתכסיאת כו'.",
"עד״מ ביום ראשון\n־פח־ מדות כלל.",
"פרק יא והנה גם\n־176־ וסתום בלבו.",
"אבל באמת בחי' אותיות\n־פט־ כמ״ש במ״א.",
"פרק יב רק שהברואים\n־178־ מהאותיות עצמן",
"כי הן ד״מ דוגמת\n־צ־ יתברך ויתעלה.",
"לקוטי אמרים חלק שלישי\n־צא־ עכ״ל הברייתא.",
"והנה מצות התשובה\n־182־ כ״א מיראה.",
"פרק ב אך כל זה\n־צב־ יום רצון.",
"פרק ג והנה חכמי\n־184־ ג״פ וכו'.",
"אכן כל זה\n־184־ תענית.",
"ומ״מ כל בעל\n־186־ לא תמנו).",
"פרק ד ואולם כל\n־186־ בנעימים.",
"אך הענין יובן\n־צד־ האותיות.",
"וביאור הענין\n־צה־ אלו).",
"וככה ממש\n־צה־ הוי' וכו'.",
"פרק ה והנה המשכת\n־190־ כדלקמן).",
"פרק ו אמנם\n־צו־ כנודע לי״ח.",
"והנה יעקב חבל\n־192־ נאמר וכו'.",
"פרק ז ואולם דרך\n־צז־ ונדכה וכו'.",
"והאיך נשבר הלב\n־194־ כנודע).",
"ואף מי שלא עבר\n־צח־ כולן.",
"פרק ח והנה אחרי\n־צח־ מלפפתו וכו'.",
"ומאחר שרוח עברה\n־196־ למלכא וכו').",
"פרק ט וביאור הענין\n־צט־ דר״ה.",
"פרק י והנה\n198־ כנודע.",
"ומאחר שהתפלה היא\n־198־ עילאה).",
"פרק יא ואמנם\n־ק־ לאין קץ.",},
{/*אב*/
"ט אהוביי אחיי\n־228־ ציון כו'."
"ומ״ש וחטאתי\n־קא־ פשעיו.",
"פרק יב וטעם השמחה\n־202־ ימצא טוב.",
"א פותחין בברכה\n־204־ שבנפש.",
"אך מי הוא הנותן\n־204־ הנפש כו'.",
"ועתה הפעם הנני\n־קג־ תורה וכו'.",
"ב קטנתי מכל\n־קד־ הפנים וגו'.",
"ג וילבש צדקה\n־208־ [ח״ו].",
"אך מי הוא הגורם\n־קה־ תדרשנו.",
"ד אין ישראל נגאלין\n־קה־ נפש מישראל.",
"ומה שאין כל אדם\n־קו־ אלקיך כו'.",
"אך מודעת זאת\n־קו־ ושבי' בצדקה.",
"וזהו צדק לפניו\n־212־ אכי״ר.",
"ה ויעש דוד שם\n־214־ שמבין הכל.",
"אך האותיות הן\n־214־ נברא בה'.",
"והנה הגם שהיא\n־קח־ ע״ש)].",
"אך ביאור הענין\n־216־ בעשיה.",
"והנה באדם התחתון\n־קט־ ממנה ח״ו.",
"ובזה יובן מ״ש\n־218־ יבינו. ",
"ו זורע צדקה\n־220־ ישענו כו'.",
"והנה מודעת זאת\n־קיא־ תכונני.",
"ז אשרינו מה טוב\n־222־ ועלול וכו'.",
"והנה הארה זו\n־222־ יספר מרוב.",
"והנה שופרי' דיעקב\n־קיב־ כמ״ש במ״א.",
"והנה אף שגילוי\n־קיב־ ממש.",
"ח זורע צדקות\n־224־ נמוך כו'.",
"והנה מודעת\n־קיג־ והארה וכו'.",
"אך הענין הוא\n־קיג־ האריז״ל.",
"וככה ממש עד״מ\n־226־ בחו״ל וד״ל.",
"ט אהוביי אחיי\n־קיד־ בחו״ל וד״ל.",
"ע״כ אהוביי אחיי\n־228־ ציון כו'."},
{/*אלול*/
"יט עוטה אור\n־254־ דאצילות.",
"י אד״ש וחיים\n־קטו־ כו'.",
"והנה לפי שהמצות\n־קטו־ מצות התורה.",
"אך היינו דוקא\n־230־ עומדין וכו'.",
"והנה עיקר התשובה\n־קטז־ נפשו כתיב.",
"והנה מדת חסד\n־קטז־ בא כו'.",
"יא להשכילך בינה\n־232־ כל היום.",
"וע״כ ראשית הכל\n־קיז־ הגנוז.",
"יב והי' מעשה\n־234־ הקדושות יתברך.",
"והנה אתערותא דלעילא\n־קיח־ במצרף וכור.",
"והנה מודעת זאת\n־236־ פעמים וכו'.",
"וז״ש והי' מעשה הצדקה\n־קיט־ חטאתם.",
"יג מה רב טובך\n־קיט־ די כו'.",
"והנה כל איש ישראל\n־238־ א״א ע״ה.",
"וזהו שאמר דהע״ה\n־קכ־ בסוכה וגו'.",
"יד לעורר את\n־240־ ר״ה ור״ה.",
"וז״ש תמיד עיני\n־קכא־ וד״ל.",
"טו להבין משל ומליצה\n־קכא־ מהן.",
"אך צריך להקדים\n־קכב־ במשל ומליצה.",
"והנה כללות הי״ס\n־קכג־ מדותיהם.",
"והנה כ״ז הוא\n־246־ באימה וביראה.",
"ומקור ושורש כל\n־קכד־ במקומו.",
"טז אהוביי אחיי\n־248־ דף פ'.",
"והנה זהו עפ״י\n־קכה־ ונפש.",
"יז נודע דבאתערותא\n־250־ וע״ש היטב.",
"וזהו שארז״ל ועטרותיהם\n־קכו־ וד״ל.",
"וזהו רחבה מצותך\n־קכו־ מנוחה כו'.",
"יח כתיב מה יפית\n־252־ בלק״א.",
"והשנית היא אהבה\n־קכז־ דעהו",},
{/*תשרי*/
"והנה אף כי\n־280־ בלא דבור."
"אך הענין הוא\n־קכח־ האותיות.",
"והנה בחי' חכמת\n־256־ מהאריז״ל.",
"האותיות הנגלות לנו\n־קכט־ כנודע.",
"כ איהו וחיוהי חד\n־258־ וע״ש.",
"ויש מאין נקרא\n־קל־ דוקא.",
"והנה ראשית היש\n־קל־ עילתו.",
"אך נשמות המלאכים\n־260־ בבי״ע.",
"אמנם מודעת\n־קלא־ והלידה.",
"ובזה יובן היות\n־קלא־ וכדלקמן.",
"והנה כמו״כ מזיווג\n־262־ כנ״ל.",
"ועוד זאת יתר\n־264־ כמ״ש במ״א.",
"ומזה יובן היטב\n־קלג־ עוה״ב.",
"כא אד״ש כמשפט\n־266־ בכל יום.",
"אך גם זאת\n־קלד־ יבא שילה.",
"כב אהוביי אחיי\n־קלד־ בפרש״י.",
"אך האמת אגיד\n־268־ ואחור ח״ו.",
"ועצה היעוצה לקבל\n־קלה־ נס״ו.",
"אהוביי אחיי ורעיי\n־קלה־ וד״ל.",
"ועוד זאת אדרוש\n־270־ מלו״נ.",
"כג בגזירת עירין\n־קלו־ למביני מדע.",
"כי קביעת שכר\n־272־ לגמרי.",
"וע״כ רע בעיני\n־272־ בזוה״ק.",
"על כן אהוביי\n־קלז־ יהי רצון.",
"כד אהוביי אחיי\n־קלח־ בלבותם.",
"כה להבין אמרי .. ־276־ לו וגו'.",
"וכנודע מ״ש הבעש״ט\n־קלט־ רוחניית.",
"והנה נודע לי״ח\n־278־ לארץ.",
"(אלא שבחו״ל\n־קמ־ עמהם)).",
"והנה אף כי\n־קמ־ האר״י ז״ל.",
"והנה נפש האדם\n־280־ בלא דבור."},
{/*חשון*/
"להבין מ״ש בשער\n־308־ פקודי).",
"והנה זלעו״ז יש\n־280־ המעלות.",
"ואחר הדברים והאמת\n־קמא־ וכה״ג טובא.",
"וכמדומה לי שתפיסתם\n־קמב־ אמרי פי.",
"כו בר״מ פ' נשא\n־קמג־ הלכה בלבד.",
"ועוד יש להפליא\n־286־ בהסתר כו'.",
"אך באמת כשתדקדק\n־קמד־ הכל אחד.",
"ומ״ש האריז״ל\n־קמד־ בבריאה.",
"והנה כשהמלכות דאצילות\n־288־ מהאריז״ל.",
"והמשכיל יבין ענין\n־288־ מסטרא דרע.",
"והנה העליונים אין\n־קמה־ העולם.",
"אבל בצאת השכינה\n־290־ בע״ח וד״ל.",
"כז אהוביי אחיי\n־קמו־ נס״ו.",
"וז״ש בזוה״ק דצדיקא\n־292־ קודם לברכה.",
"איתא בזוה״ק\n־292־ ועלול כנודע.",
"והנה בהיות הצדיק\n־קמז־ תאמין.",
"והנה יש עוד\n־294־ כוכבים.",
"כח למה נסמכה\n־קמח־ מנוגה.",
"והנה מודעת זאת\n־296־ וכו'.",
"כט אשת חיל\n־קמט־ ורכ״ט.",
"והנה אור זה\n־298־ כולא חד.",
"והנה רצון העליון\n־קנ־ האדם.",
"וז״ש בזוה״ק פ'\n-־300־ ע״ש.",
"והנה מודעת זאת\n־קנא־ כנ״ל.",
"ל מודעת זאת\n־302־ וד״ל.",
"לא נודע בשערים\n־304־ האברים וכו'.",
"לב ברך ה' חילם\n־קנג־ תדרשנו.",
"להבין איך הקורא\n־306־ דוקא.",
"עיין ע״ח שער\n־קנד־ כנודע.",
"להבין מ״ש בשער\n־308־ יאות כו'.",
"אך ההפרש\nפקודי)."},
{/*כסלו*/
"ומאחר שהתורה\n־18־ צד ופנה.",
"ומ״ש בפ' פקודי\n־קנה־ האצי'.",
"להבין מ״ש בפע״ח\n־310־ דז״א כו'.",
"והנה במ״א כתב\n־310־ דוקא.",
"והנה לקיום מצוה\n־קנו־ אחורי כו'.",
"משא״כ מעשה המצות\n־312־ משיג המהות.",
"משא״כ בסדר ההשתלשלות\n־312־ אשר שם.",
"ועוד זאת שבאמת\n־קנז־ לא יראו.",
"ובר מן כל דין\n־314־ הלכותיהן.",
"אך להבין איך\n־קנח־ וכה״ג.",
"אך עוד זאת\n־316־ אלקות.",
"והטעם משום דחב״ד\n־316־ וגמרא.",
"ומ״ש בע״ח (ושער\n־קנט־ וד״ל.",
"ולהבין פרטי ההלכות\n־קס־ דכלים דז״א.",
"דוד זמירות\n־320־ צרתו.",
"אך מה שהי'\n־קסא־ ע״ש.",
"וצדקה כנחל איתן\n־322־ א״ס ב״ה.",
"הנה לא טובה\n־324־ וד״ל.",
"הוכח תוכיח\n־קסג־ זה כו'.",
"ספר לקוטי אמרים הנקרא בשם\nוקצרה בעזה״י. הסכמת א) הרב\nמאניפאלי.  ב) הרב\nהכהן. הסכמת הרבנים\nז״ל נבג״מ.",
"הקדמת המלקט\n־ד־ בעלה וגו'.",
"אך ביודעיי\nאמרים הנ״ל.",
"פרק א תניא\n־10־ לתורה).",
"והא דאמרינן\nלהתייהר כו'.",
"פרק ב ונפש\nבראשית.",
"פרק ג והנה\n־14־ ופחדו.",
"כי השכל\nוענפי'.",
"פרק ד ועוד\n־ח־ לא תעשה.",
"והנה שלשה\n־16־ ומתלבשת בהן.",
"ומאחר שהתורה\nחסד ומים.",
"פרק ה ולתוספת\n־18־ צד ופנה."},
{/*טבת*/
"פרק יח ולתוספת\n־כד־ גלגולים].",
"וזאת מעלה\nבפרע״ח).",
"פרק ו והנה\n־20־ שריא לעולם.",
"אבל כל מה\nסוף פ״ה.",
"פרק ז אך נפש\n־20־ ובדחי רבנן.",
"אך מי שהוא\n־יב־ לנצח.",
"אך החיות\nבשר ודם.",
"פרק ח ועוד\n־יג־ הקדוש.",
"ועל דברים\nשעסקו בהן.",
"פרק ט והנה\n־26־ שבמוחין.",
"אך הנה כתיב\nשבזה״ק.",
"פרק י והנה\n־טו־ שאינו גמור.",
"והנה מדרגה\nבמ״א].",
"פרק יא וזה\nשריא.",
"פרק יב והבינוני\n־32־ ותענוגיו.",
"רק מפני שלא\n־יז־ התורה כנ״ל.",
"ואעפ״כ אינו\n־34־ תפלה כו'.",
"רק שלזה מועיל\nעם אחיו.",
"פרק יג ובזה\n־36־ עניני עוה״ז.",
"ואף מי שבתורת ה'\n־יט־ כולו.",
"והנה מדת\nכולן].",
"פרק יד והנה\n־כ־ כו' ע״ש.",
"ובזה יובן\nצדיק.",
"פרק טו ובזה\n־כא־ מרגילותו.",
"ובזה יובן מ״ש\nכלל.",
"פרק טז וזה\n־כב־ בטבעון.",
"וזה רמזו\nבאריכות.",
"פרק יז ובזה יובן\n־כג־ כלי המעשה.",
"אם לא מי שהוא\nבמ״א.",},
{/*שבט*/
"אבל בבינוני\n־לז־ באריכות."
"הנה החכמה\nומובן.",
"פרק יט ולתוספת\n־48־ א״ס ב״ה.",
"וזהו כלל\n־כה־ חוטא כו'.",
"אלא שגלות הזה\nכלל.",
"פרק כ והנה\n־כו־ המלובש בהם.",
"ולמשל כמו\nהעולם.",
"פרק כא והנה\n־כז־ שבלב.",
"וככה ממש\nממש.",
"פרק כב רק\n־54־ העליון ב״ה.",
"והנה רצון העליון\nתמיד.",
"פרק כג ועם כל\n־56־ ימיהם.",
"אך המחשבה\n־כט־ בעליונים].",
"ובזה יובן למה\nלקמן.",
"פרק כד וזה\n־ל־ בו וכו'.",
"ולכן אמרו רז״ל\n־60־ וקליפת ע״ז.",
"ומה שפיקוח נפש …  כנודע.",
"פרק כה וזהו\n־62־ עליו כנודע.",
"והן בבחי' ועשה טוב\n־לב־ לעולמים כו'.",
"אלא שלמטה הוא\nכנ״ל.",
"פרק כו ברם\n־לג־ פסוק זה.",
"והנה עצה היעוצה\n־לג־ נראית וד״ל.",
"אך העצבות\nהעצב כנ״ל.",
"פרק כז ואם העצבות\n־לד־ מכולא וכו'.",
"ולכן אל יפול\n־68־ לעילא.",
"ולא עוד אלא\nמעט מעט.",
"פרק כח ואפילו\n־לה־ זרה שלה.",
"ולא כטעות העולם\nממש עמו.",
"פרק כט אך\n־לו־ בצדיקים.",
"אבל בבינוני\n־72־ נגדי תמיד.",
"וגם מי שהוא נקי\n־לז־ באריכות."},
{/*אדר*/
"ואעפ״כ ארז״ל לא\n־98־ באריכות.",
"והנה כל מה\n־74־ כל העבודה.",
"והטעם לפי שבאמת\nבזה״ק.",
"פרק ל עוד\n־76־ באריכות",
"וכל שלא הגיע\nכשגגות.",
"פרק לא והנה\n־מ־ דעלמא.",
"ואח״כ יבא לידי שמחה\n־מ־ דכל עלמין.",
"וזאת תהי' עבודתו\n־80־ לפניכם ה' וגו'.",
"ולהיות בחי' תשובה\nמשמחי לב.",
"פרק לב והנה\n־מא־ באריכות.",
"ומ״ש בגמ' שמי\nדשבת].",
"פרק לג עוד\n־מב־ נאם ה'.",
"ועל זה תיקנו\n־84־ אתו עמו.",
"עוד זאת ישמח\nבאמונה זו.",
"פרק לד והנה … ־86־ ה' לו.",
"ואם ירחיב ה' לו\nמסטרא דא.",
"פרק לה והנה\n־מד־ עכ״ל.",
"והנה ביאור משל\n־88־ ביחוד גמור.",
"והנה ענין השראת\n־מה־ וכו').",
"והנה כשהאדם עוסק\n־מה־ וכל הגוף.",
"ואף שמהותה ועצמותה\nיבין.",
"פרק לו והנה\n־מו־ מהאר״י ז״ל).",
"וגם כבר הי'\nארצך וגו'.",
"פרק לז והנה\n־מז־ התפלה.",
"זאת ועוד אחרת\n־94־ כמו האבות.",
"ומאחר שכללות נפש\n־מח־ יצירה עשי'.",
"וכל ניצוץ לא ירד\n־96־ ניצוצין וכו'.",
"ובזה יובן מה\n־מט־ אחרות.",
"ומ״ש רז״ל שת״ת\n־מט־ כמ״ש לעיל.",},
};
//const char* tanyaarrayleap[][31] = {
//};
const char* rambamarray[] = { "הלכות מלכים\nפרק עשירי", "הקדמת הרמב״ם למשנה תורה", "מצוות עשה", "מצוות לא תעשה", "תוכן החיבור", "משנה תורה\nספר המדע", "הלכות יסודי התורה\nפרק רביעי", "הלכות יסודי התורה\nפרק שביעי", "הלכות יסודי התורה\nפרק עשירי", "הלכות דעות\nפרק שלישי", "הלכות דעות\nפרק ששי", "הלכות תלמוד תורה\nפרק שני", "הלכות תלמוד תורה\nפרק חמישי", "הלכות עבודת כוכבים וחקותיהם", "הלכות עבודת כוכבים\nפרק רביעי", "הלכות עבודת כוכבים\nפרק שביעי", "הלכות עבודת כוכבים\nפרק עשירי", "הלכות תשובה", "הלכות תשובה\nפרק רביעי", "הלכות תשובה\nפרק שביעי", "הלכות תשובה\nפרק עשירי", "הלכות קריאת שמע\nפרק שלישי", "הלכות תפלה\nפרק שני", "הלכות תפלה\nפרק חמישי", "הלכות תפלה\nפרק שמיני", "הלכות תפלה\nפרק אחד עשר", "הלכות תפלה\nפרק ארבעה עשר", "הלכות תפילין\nפרק שני", "הלכות מזוזה\nפרק חמישי", "הלכות ספר תורה\nפרק שמיני", "הלכות ציצית", "הלכות ברכות", "הלכות ברכות\nפרק רביעי", "הלכות ברכות\nפרק שביעי", "הלכות ברכות\nפרק עשירי", "הלכות מילה\nפרק שני", "נוסח ברכות התפלה וסידורן", "נוסח ברכת המזון", "הלכות שבת\nפרק שלישי", "הלכות שבת\nפרק ששי", "הלכות שבת\nפרק תשיעי", "הלכות שבת\nפרק שנים עשר", "הלכות שבת\nפרק חמשה עשר", "הלכות שבת\nפרק שמנה עשר", "הלכות שבת\nפרק אחד ועשרים", "הלכות שבת\nפרק ארבעה ועשרים", "הלכות שבת\nפרק שבעה ועשרים", "הלכות שבת\nפרק שלשים", "הלכות עירובין\nפרק שלישי", "הלכות עירובין\nפרק ששי", "הלכות שביתת עשור", "הלכות שביתת יום טוב", "הלכות יום טוב\nפרק רביעי", "הלכות יום טוב\nפרק שביעי", "הלכות חמץ ומצה\nפרק שני", "הלכות חמץ ומצה\nפרק חמישי", "הלכות חמץ ומצה\nפרק שמיני", "הלכות שופר\nפרק שלישי", "הלכות סוכה\nפרק ששי", "הלכות שקלים", "הלכות שקלים\nפרק רביעי", "הלכות קדוש החדש\nפרק שלישי", "הלכות קדוש החדש\nפרק ששי", "הלכות קדוש החדש\nפרק תשיעי", "הלכות קידוש החדש\nפרק שנים עשר", "הלכות קידוש החדש\nפרק חמשה עשר", "הלכות קידוש החדש\nפרק שמנה עשר", "הלכות תענית\nפרק שני", "הלכות תענית\nפרק חמישי", "הלכות חנוכה\nפרק שלישי", "הלכות אישות\nפרק שני", "הלכות אישות\nפרק חמישי", "הלכות אישות\nפרק שמיני", "הלכות אישות\nפרק אחד עשר", "הלכות אישות\nפרק ארבעה עשר", "הלכות אישות\nפרק שבעה עשר", "הלכות אישות\nפרק עשרים", "הלכות אישות\nפרק שלשה ועשרים", "הלכות גירושין", "הלכות גירושין\nפרק רביעי", "הלכות גירושין\nפרק שביעי", "הלכות גירושין\nפרק עשירי", "הלכות גירושין\nפרק שלשה עשר", "הלכות יבום וחליצה\nפרק שלישי", "הלכות יבום וחליצה\nפרק ששי", "הלכות נערה בתולה", "הלכות סוטה", "הלכות סוטה\nפרק רביעי", "הלכות איסורי ביאה\nפרק שלישי", "הלכות איסורי ביאה\nפרק ששי", "הלכות איסורי ביאה\nפרק תשיעי", "הלכות איסורי ביאה\nפרק שנים עשר", "הלכות איסורי ביאה\nפרק חמשה עשר", "הלכות איסורי ביאה\nפרק שמנה עשר", "הלכות איסורי ביאה\nפרק אחד ועשרים", "הלכות מאכלות אסורות\nפרק שני", "הלכות מאכלות אסורות\nפרק חמישי", "הלכות מאכלות אסורות\nפרק שמיני", "הלכות מאכלות אסורות\nפרק אחד עשר", "הלכות מאכלות אסורות\nפרק ארבעה עשר", "הלכות מאכלות אסורות\nפרק שבעה עשר", "הלכות שחיטה\nפרק שלישי", "הלכות שחיטה\nפרק ששי", "הלכות שחיטה\nפרק תשיעי", "הלכות שחיטה\nפרק שנים עשר", "משנה תורה\nספר הפלאה", "הלכות שבועות\nפרק רביעי", "הלכות שבועות\nפרק שביעי", "הלכות שבועות\nפרק עשירי", "הלכות נדרים", "הלכות נדרים\nפרק רביעי", "הלכות נדרים\nפרק שביעי", "הלכות נדרים\nפרק עשירי", "הלכות נדרים\nפרק שלשה עשר", "הלכות נזירות\nפרק שלישי", "הלכות נזירות\nפרק ששי", "הלכות נזירות\nפרק תשיעי", "הלכות ערכין וחרמין\nפרק שני", "הלכות ערכין וחרמין\nפרק חמישי", "הלכות ערכין וחרמין\nפרק שמיני", "הלכות כלאים\nפרק שלישי", "הלכות כלאים\nפרק ששי", "הלכות כלאים\nפרק תשיעי", "הלכות מתנות עניים\nפרק שני", "הלכות מתנות עניים\nפרק חמישי", "הלכות מתנות עניים\nפרק שמיני", "הלכות תרומות", "הלכות תרומות\nפרק רביעי", "הלכות תרומות\nפרק שביעי", "הלכות תרומות\nפרק עשירי", "הלכות תרומות\nפרק שלשה עשר", "הלכות מעשר", "הלכות מעשר\nפרק רביעי", "הלכות מעשר\nפרק שביעי", "הלכות מעשר\nפרק עשירי", "הלכות מעשר\nפרק שלשה עשר", "הלכות מעשר שני ונטע רבעי\nפרק שני", "הלכות מעשר שני ונטע רבעי\nפרק חמישי", "הלכות מעשר שני ונטע רבעי\nפרק שמיני", "הלכות מעשר שני ונטע רבעי\nפרק אחד עשר", "הלכות בכורים\nפרק שלישי", "הלכות בכורים\nפרק ששי", "הלכות בכורים\nפרק תשיעי", "הלכות בכורים\nפרק שנים עשר", "הלכות שמיטה ויובל\nפרק שלישי", "הלכות שמיטה ויובל\nפרק ששי", "הלכות שמיטה ויובל\nפרק תשיעי", "הלכות שמיטה ויובל\nפרק שנים עשר", "הלכות בית הבחירה\nפרק שני", "הלכות בית הבחירה\nפרק חמישי", "הלכות בית הבחירה\nפרק שמיני", "הלכות כלי המקדש\nפרק שלישי", "הלכות כלי המקדש\nפרק ששי", "הלכות כלי המקדש\nפרק תשיעי", "הלכות ביאת המקדש\nפרק שני", "הלכות ביאת המקדש\nפרק חמישי", "הלכות ביאת המקדש\nפרק שמיני", "הלכות איסורי מזבח\nפרק שני", "הלכות איסורי המזבח\nפרק חמישי", "הלכות מעשה הקרבנות", "הלכות מעשה הקרבנות\nפרק רביעי", "הלכות מעשה הקרבנות\nפרק שביעי", "הלכות מעשה הקרבנות\nפרק עשירי", "הלכות מעשה הקרבנות\nפרק שלשה עשר", "הלכות מעשה הקרבנות\nפרק ששה עשר", "הלכות מעשה הקרבנות\nפרק תשעה עשר", "הלכות תמידין ומוספין\nפרק שלישי", "הלכות תמידין ומוספין\nפרק ששי", "הלכות תמידין ומוספין\nפרק תשיעי", "הלכות פסולי המוקדשין\nפרק שני", "הלכות פסולי המוקדשין\nפרק חמישי", "הלכות פסולי המוקדשין\nפרק שמיני", "הלכות פסולי המוקדשין\nפרק אחד עשר", "הלכות פסולי המוקדשין\nפרק ארבעה עשר", "הלכות פסולי המוקדשין\nפרק שבעה עשר", "הלכות עבודת יום הכפורים", "הלכות עבודת יום הכפורים\nפרק רביעי", "הלכות מעילה\nפרק שני", "הלכות מעילה\nפרק חמישי", "הלכות מעילה\nפרק שמיני", "הלכות קרבן פסח\nפרק שלישי", "הלכות קרבן פסח\nפרק ששי", "הלכות קרבן פסח\nפרק תשיעי", "הלכות חגיגה\nפרק שני", "הלכות בכורות\nפרק שני", "הלכות בכורות\nפרק חמישי", "הלכות בכורות\nפרק שמיני", "הלכות שגגות\nפרק שלישי", "הלכות שגגות\nפרק ששי", "הלכות שגגות\nפרק תשיעי", "הלכות שגגות\nפרק שנים עשר", "הלכות שגגות\nפרק חמשה עשר", "הלכות מחוסרי כפרה\nפרק שלישי", "הלכות תמורה", "הלכות תמורה\nפרק רביעי", "הלכות טומאת מת\nפרק שלישי", "הלכות טומאת מת\nפרק ששי", "הלכות טומאת מת\nפרק תשיעי", "הלכות טומאת מת\nפרק שנים עשר", "הלכות טומאת מת\nפרק חמשה עשר", "הלכות טומאת מת\nפרק שמונה עשר", "הלכות טומאת מת\nפרק אחד ועשרים", "הלכות טומאת מת\nפרק ארבעה ועשרים", "הלכות פרה אדומה\nפרק שני", "הלכות פרה אדומה\nפרק חמישי", "הלכות פרה אדומה\nפרק שמיני", "הלכות פרה אדומה\nפרק אחד עשר", "הלכות פרה אדומה\nפרק ארבעה עשר", "הלכות טומאת צרעת\nפרק שני", "הלכות טומאת צרעת\nפרק חמישי", "הלכות טומאת צרעת\nפרק שמיני", "הלכות טומאת צרעת\nפרק אחד עשר", "הלכות טומאת צרעת\nפרק ארבעה עשר", "הלכות מטמאי משכב ומושב", "הלכות מטמאי משכב ומושב\nפרק רביעי", "הלכות מטמאי משכב ומושב\nפרק שביעי", "הלכות מטמאי משכב ומושב\nפרק עשירי", "הלכות מטמאי משכב ומושב\nפרק שלשה עשר", "הלכות אבות הטומאות\nפרק שלישי", "הלכות אבות הטומאות\nפרק ששי", "הלכות אבות הטומאות\nפרק תשיעי", "הלכות אבות הטומאות\nפרק שנים עשר", "הלכות אבות הטומאות\nפרק חמשה עשר", "הלכות אבות הטומאות\nפרק שמונה עשר", "הלכות טומאת אוכלין", "הלכות טומאת אוכלין\nפרק רביעי", "הלכות טומאת אוכלין\nפרק שביעי", "הלכות טומאת אוכלין\nפרק עשירי", "הלכות טומאת אוכלין\nפרק שלשה עשר", "הלכות טומאת אוכלין\nפרק ששה עשר", "הלכות כלים\nפרק שלישי", "הלכות כלים\nפרק ששי", "הלכות כלים\nפרק תשיעי", "הלכות כלים\nפרק שנים עשר", "הלכות כלים\nפרק חמשה עשר", "הלכות כלים\nפרק שמונה עשר", "הלכות כלים\nפרק אחד ועשרים", "הלכות כלים\nפרק ארבעה ועשרים", "הלכות כלים\nפרק שבעה ועשרים", "הלכות מקואות\nפרק שני", "הלכות מקואות\nפרק חמישי", "הלכות מקואות\nפרק שמיני", "הלכות מקואות\nפרק אחד עשר", "הלכות נזקי ממון\nפרק שלישי", "הלכות נזקי ממון\nפרק ששי", "הלכות נזקי ממון\nפרק תשיעי", "הלכות נזקי ממון\nפרק שנים עשר", "הלכות גניבה", "הלכות גניבה\nפרק רביעי", "הלכות גניבה\nפרק שביעי", "הלכות גזלה ואבדה", "הלכות גזלה ואבדה\nפרק רביעי", "הלכות גזלה ואבדה\nפרק שביעי", "הלכות גזלה ואבדה\nפרק עשירי", "הלכות גזלה ואבדה\nפרק שלשה עשר", "הלכות גזלה ואבדה\nפרק ששה עשר", "הלכות חובל ומזיק", "הלכות חובל ומזיק\nפרק רביעי", "הלכות חובל ומזיק\nפרק שביעי", "הלכות רוצח ושמירת נפש\nפרק שני", "הלכות רוצח ושמירת נפש\nפרק חמישי", "הלכות רוצח ושמירת נפש\nפרק שמיני", "הלכות רוצח ושמירת נפש\nפרק אחד עשר", "משנה תורה\nספר קנין", "הלכות מכירה\nפרק רביעי", "הלכות מכירה\nפרק שביעי", "הלכות מכירה\nפרק עשירי", "הלכות מכירה\nפרק שלשה עשר", "הלכות מכירה\nפרק ששה עשר", "הלכות מכירה\nפרק תשעה עשר", "הלכות מכירה\nפרק שנים ועשרים", "הלכות מכירה\nפרק חמשה ועשרים", "הלכות מכירה\nפרק שמונה ועשרים", "הלכות זכיה ומתנה", "הלכות זכיה ומתנה\nפרק רביעי", "הלכות זכיה ומתנה\nפרק שביעי", "הלכות זכיה ומתנה\nפרק עשירי", "הלכות שכנים", "הלכות שכנים\nפרק רביעי", "הלכות שכנים\nפרק שביעי", "הלכות שכנים\nפרק עשירי", "הלכות שכנים\nפרק שלשה עשר", "הלכות שלוחין ושותפים\nפרק שני", "הלכות שלוחין ושותפים\nפרק חמישי", "הלכות שלוחין ושותפים\nפרק שמיני", "הלכות עבדים", "הלכות עבדים\nפרק רביעי", "הלכות עבדים\nפרק שביעי", "משנה תורה\nספר משפטים", "הלכות שכירות\nפרק רביעי", "הלכות שכירות\nפרק שביעי", "הלכות שכירות\nפרק עשירי", "הלכות שכירות\nפרק שלשה עשר", "הלכות שאלה ופקדון\nפרק שלישי", "הלכות שאלה ופקדון\nפרק ששי", "הלכות מלוה ולוה", "הלכות מלוה ולוה\nפרק רביעי", "הלכות מלוה ולוה\nפרק שביעי", "הלכות מלוה ולוה\nפרק עשירי", "הלכות מלוה ולוה\nפרק שלשה עשר", "הלכות מלוה ולוה\nפרק ששה עשר", "הלכות מלוה ולוה\nפרק תשעה עשר", "הלכות מלוה ולוה\nפרק שנים ועשרים", "הלכות מלוה ולוה\nפרק חמשה ועשרים", "הלכות טוען ונטען", "הלכות טוען ונטען\nפרק רביעי", "הלכות טוען ונטען\nפרק שביעי", "הלכות טוען ונטען\nפרק עשירי", "הלכות טוען ונטען\nפרק שלשה עשר", "הלכות טוען ונטען\nפרק ששה עשר", "הלכות נחלות\nפרק שלישי", "הלכות נחלות\nפרק ששי", "הלכות נחלות\nפרק תשיעי", "משנה תורה\nספר שופטים", "הלכות סנהדרין\nפרק רביעי", "הלכות סנהדרין\nפרק שביעי", "הלכות סנהדרין\nפרק עשירי", "הלכות סנהדרין\nפרק שלשה עשר", "הלכות סנהדרין\nפרק ששה עשר", "הלכות סנהדרין\nפרק תשעה עשר", "הלכות סנהדרין\nפרק שנים ועשרים", "הלכות סנהדרין\nפרק חמשה ועשרים", "הלכות עדות\nפרק שני", "הלכות עדות\nפרק חמישי", "הלכות עדות\nפרק שמיני", "הלכות עדות\nפרק אחד עשר", "הלכות עדות\nפרק ארבעה עשר", "הלכות עדות\nפרק שבעה עשר", "הלכות עדות\nפרק עשרים", "הלכות ממרים", "הלכות ממרים\nפרק רביעי", "הלכות ממרים\nפרק שביעי", "הלכות אבל\nפרק שלישי", "הלכות אבל\nפרק ששי", "הלכות אבל\nפרק תשיעי", "הלכות אבל\nפרק שנים עשר", "הלכות מלכים ומלחמותיהם", "הלכות מלכים\nפרק רביעי", "הלכות מלכים\nפרק שביעי"};

int chumash(hdate date, char* buffer)
{
	parshah current = NOPARSHAH;
	hdate shabbos = date;
	int st = shabbos.EY ? 22 : 23;
	for (; (current = getparshah(shabbos)) == NOPARSHAH; hdateaddday(&shabbos, 7-shabbos.wday)){}
	if (current == BERESHIT)
	{
		if (date.day < st) {current = VZOT_HABERACHAH;}
		else if  (date.day == st){
			if (date.wday == 1){
				return sprintf(buffer, "פרשת %s %s עם פירש״י", parshahformat(BERESHIT), numtowday(date, 0));
			}else if (!date.wday){
				return sprintf(buffer, "פרשת %s %s עם פירש״י", parshahformat(VZOT_HABERACHAH), numtowday(date, 0));
			}else{
				return sprintf(buffer, "פרשת %s %s - שביעי, %s ראשון - %s עם פירש״י", parshahformat(VZOT_HABERACHAH), numtowday(date, 0), parshahformat(BERESHIT), numtowday(date, 0));
			}
		}
	}
	return sprintf(buffer, "פרשת %s\n%s עם פירש״י", parshahformat(current), numtowday(date, 0));
}

int tehillim(hdate date, char* buffer)
{
	int current = date.day;
	if (current == 29 && LastDayOfHebrewMonth(date.month, date.year) != 30) {current = 0;}
	return sprintf(buffer, "%s\n%s", "תהלים", tehillimarray[current]);
}

int tanya(hdate date, char* buffer)
{
	_Bool last = 0;
	if (date.month == 7
		|| date.month == 8
		|| (date.month == 9 && date.day < 19))
		{ last = 1;}
	int leap = HebrewLeapYear(last ? (date.year -1) : date.year);
	int current = date.day;
	if (current == 29 && LastDayOfHebrewMonth(date.month, date.year) != 30) {current = 0;}
	const char* shuir = leap ? " \n " : tanyaarrayregular[date.month-1][current];
	return sprintf(buffer, "%s\n%s", "תניא", shuir);
}

int rambam(hdate date, char* buffer)
{
	int current = ((HebrewCalendarElapsedDays(date.year)+date.dayofyear)- (2097823)) % 339;
	return sprintf(buffer, "%s\n%s", "רמב״ם", rambamarray[current]);
}
